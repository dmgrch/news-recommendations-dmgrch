# –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –Ω–æ–≤–æ—Å—Ç–Ω–æ–π –ª–µ–Ω—Ç—ã

–í —ç—Ç–æ–π —Ä–∞–±–æ—Ç–µ –≤–∞—à–µ–π –∑–∞–¥–∞—á–µ–π —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –Ω–æ–≤–æ—Å—Ç–Ω–æ–≥–æ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä–∞.

–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –≤–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–±–∏—Ä–∞—Ç—å –∏ —Ä–∞–∑–º–µ—á–∞—Ç—å –Ω–æ–≤–æ—Å—Ç–∏ —Å [Habr](https://habr.com/ru/articles/).

## –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö

–ù–∞ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–Ω—è—Ç–∏—è—Ö –≤—ã —É–∂–µ —Å—Ç–∞–ª–∫–∏–≤–∞–ª–∏—Å—å —Å –º–æ–¥—É–ª–µ–º¬†`requests`, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –ø–æ HTTP-–ø—Ä–æ—Ç–æ–∫–æ–ª—É. –°—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–≤–∞ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Ç–∏–ø–∞ –∑–∞–ø—Ä–æ—Å–æ–≤:¬†`GET`¬†–∏¬†`POST`¬†(–≤ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏—Ö –≥–æ—Ä–∞–∑–¥–æ¬†[–±–æ–ª—å—à–µ](https://ru.wikipedia.org/wiki/HTTP#.D0.9C.D0.B5.D1.82.D0.BE.D0.B4.D1.8B)). –í –∑–∞–ø—Ä–æ—Å–µ —Ç–∏–ø–∞¬†`GET`¬†–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–∞—è —Å–µ—Ä–≤–µ—Ä—É, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ –≤ —Å—Å—ã–ª–∫–µ, –∫–æ—Ç–æ—Ä—É—é –≤ —Å–ª—É—á–∞–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–µ–±-–±—Ä–∞—É–∑–µ—Ä–∞ –≤—ã –º–æ–∂–µ—Ç–µ –≤–∏–¥–µ—Ç—å –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤—ã –ø–µ—Ä–µ–π–¥—ë—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É¬†https://translate.google.com/?hl=ru#en/ru/python, —Ç–æ —Ç–µ–º —Å–∞–º—ã–º –≤—ã –∑–∞–ø—Ä–æ—Å–∏—Ç–µ —É —Å–µ—Ä–≤–∏—Å–∞ Google Translate –ø–µ—Ä–µ–≤–æ–¥ —Å–ª–æ–≤–∞¬†*python*¬†—Å –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ –Ω–∞ —Ä—É—Å—Å–∫–∏–π (–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø–æ—Å–ª–µ —Å–∏–º–≤–æ–ª–∞¬†`?`).¬†`POST`-–∑–∞–ø—Ä–æ—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å–ª—É—á–∞—è—Ö –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–∞–∫–∏—Ö-–ª–∏–±–æ —Ñ–æ—Ä–º (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–∞ —Å–∞–π—Ç–µ), –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö, –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä. –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ –Ω–µ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ, –∞ –±—É–¥—É—Ç —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ http-–∑–∞–ø—Ä–æ—Å–æ–≤ –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å¬†[–∑–¥–µ—Å—å](https://ru.wikipedia.org/wiki/HTTP#.D0.A1.D1.82.D1.80.D1.83.D0.BA.D1.82.D1.83.D1.80.D0.B0_.D0.BF.D1.80.D0.BE.D1.82.D0.BE.D0.BA.D0.BE.D0.BB.D0.B0)

–í —ç—Ç–æ–π –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Ç–æ–ª—å–∫–æ —Ç–∏–ø–∞¬†`GET`.

–î–∞–≤–∞–π—Ç–µ –≤—ã–ø–æ–ª–Ω–∏–º –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö¬†`GET`-–∑–∞–ø—Ä–æ—Å–∞ –∫ —Ö–∞–±—Ä—É:

```python
>>> import requests
>>> r = requests.get("https://habr.com/ru/articles/")
>>> r.ok
True
>>> r.status_code
200
>>> r = requests.get("https://news.ycombinator.com/abrakadabra")
>>> r.ok
False
>>> r.status_code
404
```


> üí° –ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –º–æ–¥—É–ª—å¬†`requests`,
—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –µ–≥–æ –∫–æ–º–∞–Ω–¥–æ–π¬†`pip install requests`
–∏–ª–∏¬†`python -m pip install requests`.


–ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –±—ã–ª –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ, –æ —á–µ–º –≥–æ–≤–æ—Ä–∏—Ç –∑–Ω–∞—á–µ–Ω–∏–µ¬†`True`¬†—Å–≤–æ–π—Å—Ç–≤–∞¬†`r.ok`¬†–∏ –∑–Ω–∞—á–µ–Ω–∏–µ¬†`200`¬†—Å–≤–æ–π—Å—Ç–≤–∞¬†`r.status_code`. –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π –∫–æ–¥ –∑–∞–ø—Ä–æ—Å–∞ (`status_code`) –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–Ω–æ–≥–æ –ø–æ–ª–µ–∑–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏–ª–∏ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞, –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞ –∏–ª–∏ –≤–æ–∑–Ω–∏–∫—à–∏—Ö –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –æ—à–∏–±–∫–∞—Ö. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –∫–æ–¥–∞—Ö –æ—Ç–≤–µ—Ç–æ–≤ –∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å¬†[–∑–¥–µ—Å—å](https://ru.wikipedia.org/wiki/%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D0%BA%D0%BE%D0%B4%D0%BE%D0%B2_%D1%81%D0%BE%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%B8%D1%8F_HTTP#.D0.9E.D0.B1.D0.B7.D0.BE.D1.80.D0.BD.D1.8B.D0.B9_.D1.81.D0.BF.D0.B8.D1.81.D0.BE.D0.BA)

–í—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å –±—ã–ª –≤—ã–ø–æ–ª–Ω–µ–Ω –∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ, —á—Ç–æ –ø—Ä–∏–≤–µ–ª–æ –∫ –æ—à–∏–±–∫–µ ¬´404 - –ù–µ –Ω–∞–π–¥–µ–Ω–æ¬ª.

–î–æ—Å—Ç—É–ø –∫ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Å –ø–æ–º–æ—â—å—é –∞—Ç—Ä–∏–±—É—Ç–∞¬†`text`¬†(–¥–ª—è –ø—Ä–∏–º–µ—Ä–∞ –≤—ã–≤–µ–¥–µ–Ω—ã –ø–µ—Ä–≤—ã–µ 100 —Å–∏–º–≤–æ–ª–æ–≤):

```python
>>> r.text[:100]
'''<!DOCTYPE html>
<html lang="ru">

  <head>
    <title>–í—Å–µ —Å—Ç–∞—Ç—å–∏ –ø–æ–¥—Ä—è–¥ &#x2F; –•–∞–±—Ä</title>
<link re'''
```

–ö–∞–∫ –≤—ã –≤–∏–¥–∏—Ç–µ, —ç—Ç–æ –æ–±—ã—á–Ω–∞—è HTML-—Å—Ç—Ä–∞–Ω–∏—Ü–∞, –∏–∑ –∫–æ—Ç–æ—Ä–æ–π –Ω–∞–º –Ω—É–∂–Ω–æ –∏–∑–≤–ª–µ—á—å –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â—É—é –Ω–∞—Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –∞ –∏–º–µ–Ω–Ω–æ:

- –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–∞—Ç—å–∏;
- –∞–≤—Ç–æ—Ä–∞ —Å—Ç–∞—Ç—å–∏;
- —Å—Å—ã–ª–∫—É –Ω–∞ —Å—Ç–∞—Ç—å–∏;
- —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Ç–µ–∫—Å—Ç–∞ —Å—Ç–∞—Ç—å–∏;
- –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –Ω–æ–≤–æ—Å—Ç–∏ –Ω–∞ –•–∞–±—Ä–µ.

–ß—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å —Å–≤–æ–π –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –±–æ–ª–µ–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º –∏ –æ–±—ä–µ–º–Ω—ã–º, –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –ª—é–±—É—é –¥–æ—Å—Ç—É–ø–Ω—É—é –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –Ω–æ –¥–ª—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è —Ç–æ–ª—å–∫–æ —ç—Ç–∏ 4 –ø—É–Ω–∫—Ç–∞.

–ù–∞–ø—Ä–∏–º–µ—Ä, –≤ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç–∞—Ç—å–µ:

![image](https://github.com/user-attachments/assets/53abb32b-e22a-44b1-9e6f-9fa898b18c0d)


- –∑–∞–≥–æ–ª–æ–≤–æ–∫ - –ö–∞–∫ –æ—Ç–ª–∏—á–∏—Ç—å —Å–∏–º—É–ª—è—Ü–∏—é –æ—Ç —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏: –Ω–∞—É—á–Ω—ã–π –≥–∏–¥ –¥–ª—è IT-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞;
- –∞–≤—Ç–æ—Ä - StringFrame;
- —Å—Å—ã–ª–∫–∞ -¬†https://habr.com/ru/companies/inferit/articles/891442/;
- —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Ç–µ–∫—Å—Ç–∞ - –ø—Ä–æ—Å—Ç–æ–π
- –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –Ω–æ–≤–æ—Å—Ç–∏ - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω–µ –≤–∏–¥–µ–Ω.

–î–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Å –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–∞–∑–Ω—ã—Ö –º–æ–¥—É–ª–µ–π. –ü—Ä–æ–±–ª–µ–º–∞ —Å HTML –≤ —Ç–æ–º, —á—Ç–æ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –±—Ä–∞—É–∑–µ—Ä–æ–≤ –≤–µ–¥–µ—Ç —Å–µ–±—è ¬´–ø—Ä–æ—â–∞—é—â–µ¬ª –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Å—Ç—Ä–∞–Ω–∏—Ü, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –Ω–µ –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º HTML. –í–ø—Ä–æ—á–µ–º, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–∂–µ –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ HTML-–∫–æ–¥–∞ –Ω–µ —Ç–∞–∫ —Å–ª–æ–∂–Ω–∞, –µ—Å–ª–∏ –ø–æ–¥ —Ä—É–∫–æ–π –µ—Å—Ç—å –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã. –ú—ã –±—É–¥–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –º–æ–¥—É–ª–µ–º¬†`Beautiful Soup 4`.


>üí° –ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –º–æ–¥—É–ª—å¬†`bs4`, —Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –µ–≥–æ –∫–æ–º–∞–Ω–¥–æ–π¬†`pip install bs4`¬†–∏–ª–∏¬†`python -m pip install bs4`.

–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è¬†`Beautiful Soup`¬†–Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å —Ç–µ–∫—Å—Ç –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã (–≤ –≤–∏–¥–µ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏) —Ñ—É–Ω–∫—Ü–∏–∏¬†`BeautifulSoup`. –ß—Ç–æ–±—ã –æ–Ω –Ω–µ "—Ä—É–≥–∞–ª—Å—è", —Ç–∞–∫–∂–µ —Å–ª–µ–¥—É–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞ (—Ç–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∫–æ—Ç–æ—Ä–∞—è –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É HTML). –° —Ü–µ–ª—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —è –∏—Å–ø–æ–ª—å–∑—É—é¬†`html.parser`¬†(–æ–Ω –≤—Ö–æ–¥–∏—Ç –≤ –ø–∞–∫–µ—Ç Python –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏), –Ω–æ –≤—ã –º–æ–∂–µ—Ç–µ —Ç–∞–∫–∂–µ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å¬†`html5lib`, –µ—Å–ª–∏ –æ–Ω —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.

```python
>>> from bs4 import BeautifulSoup
>>> page = BeautifulSoup(r.text, 'html.parser')
>>> page
<!DOCTYPE html>
<html lang="ru">

  <head>
    <title>–í—Å–µ —Å—Ç–∞—Ç—å–∏ –ø–æ–¥—Ä—è–¥ &#x2F; –•–∞–±—Ä</title>
...
```

–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è¬†`page`¬†–ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å—Ç—Ä–æ–∫–æ–≤–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—ã. –≠—Ç–æ –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤ —É–¥–æ–±–Ω–æ–π —Ñ–æ—Ä–º–µ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ HTML-—Ç–µ–≥–∞–º. –ù–∞–ø—Ä–∏–º–µ—Ä, –º—ã –º–æ–∂–µ–º –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ —Ç–µ–≥—É¬†`head`, –∞ –≤–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ –∫ —Ç–µ–≥—É¬†`title`:

```python
>>> page.head.title
<title>–í—Å–µ —Å—Ç–∞—Ç—å–∏ –ø–æ–¥—Ä—è–¥ / –•–∞–±—Ä</title>
>>> page.head.title.text
'–í—Å–µ —Å—Ç–∞—Ç—å–∏ –ø–æ–¥—Ä—è–¥ / –•–∞–±—Ä'
```

–ú–æ–∂–Ω–æ –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å –ø–æ—Ç–æ–∫–æ–º –Ω–æ–≤–æ—Å—Ç–µ–π –∫–∞–∂–¥–∞—è —Å—Ç–∞—Ç—å—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –∫–∞–∫ —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞:

![image](https://github.com/user-attachments/assets/d9795eac-42f0-40dd-8773-9f4aa4d8dfc3)


–û—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å –ø–æ–∏—Å–∫ –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —É–¥–æ–±–Ω–æ –º–µ—Ç–æ–¥–∞–º–∏ `find` –∏–ª–∏ `find_all` , —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–Ω–æ —Ç–∞–∫–∂–µ –æ—Å—É—â–µ—Å—Ç–≤–ª—è—Ç—å –ø–æ–∏—Å–∫ –≤–Ω—É—Ç—Ä–∏ —É–∂–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, –µ—Å–ª–∏ –æ–Ω –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π, –∫–∞–∫ –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ.

–ù–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç –≤–∞—à–µ–π –∑–∞–¥–∞—á–µ–π —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–ø–∏—Å–∞—Ç—å –¥–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏¬†`extract_news()`¬†–∏¬†`extract_next_page()`, –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏¬†`get_news()`, –∫–æ—Ç–æ—Ä–∞—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç¬†`url`¬†–∏¬†`n_pages`¬†(—á–∏—Å–ª–æ —Å—Ç—Ä–∞–Ω–∏—Ü, —Å –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–±—Ä–∞—Ç—å –Ω–æ–≤–æ—Å—Ç–∏), –∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤–∞—Ä–µ–π, –≥–¥–µ –∫–∞–∂–¥—ã–π —Å–ª–æ–≤–∞—Ä—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∑–∞–ø–∏—Å—å –æ–± –æ–¥–Ω–æ–π –Ω–æ–≤–æ—Å—Ç–∏ (–ø—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ —Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∏–∂–µ):

```python
>>> news_list = get_news("https://news.ycombinator.com/newest", n_pages=2)
Collecting data from page: https://habr.com/ru/articles/
Collecting data from page: https://habr.com/ru/articles/page2/
[{'author': 'Svetla79 ',
  'complexity': '–ü—Ä–æ—Å—Ç–æ–π',
  'id': '891528',
  'link': 'https://habr.com/ru/companies/rostelecom/articles/891528/',
  'title': '–ö–∞–∫ –¥–æ–±–∏—Ç—å—Å—è —É—Å–ø–µ—Ö–∞ –Ω–∞ ¬´–ò–ó–ò¬ª –ø—Ä–∏ –æ–±—â–µ–Ω–∏–∏ —Å –Ω–µ–∑–Ω–∞–∫–æ–º—ã–º–∏ –ª—é–¥—å–º–∏'},
 {'author': 'vladkorotnev ',
  'complexity': '-',
  'id': '883772',
  'link': 'https://habr.com/ru/companies/timeweb/articles/883772/',
  'title': '–≠—Ç–∞ —Å—Ç–∞—Ç—å—è –æ–ø–æ–∑–¥–∞–ª–∞ –ª–µ—Ç –Ω–∞ –¥–≤–∞–¥—Ü–∞—Ç—å: –º—É–∑—ã–∫–∞–ª—å–Ω—ã–π —Ü–µ–Ω—Ç—Ä —Å '
           'CD-–∫–∞—Ä–∞–æ–∫–µ, —Ä–∞–¥–∏–æ –∏ –±–ª—é—Ç—É—Å–æ–º –Ω–∞ ESP32 —Å–≤–æ–∏–º–∏ —Ä—É–∫–∞–º–∏'},
 {'author': 'Arenadata ',
  'complexity': '–°—Ä–µ–¥–Ω–∏–π',
  'id': '887792',
  'link': 'https://habr.com/ru/companies/arenadata/articles/887792/',
  'title': '–ü–æ–≤—ã—à–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö: –∫–µ–π—Å ¬´–ö–æ–º—É—Å¬ª –∏ '
           'Arenadata'},
```

## –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ sqlite

–°–æ–±–∏—Ä–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω—É–∂–Ω–æ –≥–¥–µ-—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—å. –ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è¬†[SQLite](https://ru.wikipedia.org/wiki/SQLite)¬†- –∫–æ–º–ø–∞–∫—Ç–Ω—É—é –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—É—é —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö. –í —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ —è–∑—ã–∫–∞ Python –µ—Å—Ç—å –º–æ–¥—É–ª—å¬†[sqlite3](https://docs.python.org/3/library/sqlite3.html), –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å SQLite. –≠—Ç–æ—Ç –º–æ–¥—É–ª—å —Ç—Ä–µ–±—É–µ—Ç –∑–Ω–∞–Ω–∏—è —è–∑—ã–∫–∞ SQL, –ø–æ—ç—Ç–æ–º—É –º—ã –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è –¥—Ä—É–≥–æ–π —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–µ–π, –∫–æ—Ç–æ—Ä–∞—è –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è ORM.

ORM (–∞–Ω–≥–ª. object-relational mapping, —Ä—É—Å. –æ–±—ä–µ–∫—Ç–Ω–æ-—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ) ‚Äî —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä–∞—è —Å–≤—è–∑—ã–≤–∞–µ—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å –∫–æ–Ω—Ü–µ–ø—Ü–∏—è–º–∏ –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —è–∑—ã–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, —Å–æ–∑–¥–∞–≤–∞—è "–≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –æ–±—ä–µ–∫—Ç–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö".

`SQLAlchemy`¬†‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –Ω–∞ —è–∑—ã–∫–µ Python –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å¬†[—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–º–∏](https://ru.wikipedia.org/wiki/%D0%A0%D0%B5%D0%BB%D1%8F%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%B0%D1%8F_%D0%B1%D0%B0%D0%B7%D0%B0_%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85)¬†–°–£–ë–î —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ ORM. –ò—Å–ø–æ–ª—å–∑–ª—É–µ—Ç—Å—è –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤ Python –∏ –∑–∞–ø–∏—Å–µ–π —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. SQLAlchemy –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø–∏—Å—ã–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö –∏ —Å–ø–æ—Å–æ–±—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –Ω–∏–º–∏ –Ω–∞ —è–∑—ã–∫–µ Python –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è SQL.

> –ü–æ–¥—Ä–æ–±–Ω—É—é —Å—Ç–∞—Ç—å—é –ø–æ —Ä–∞–±–æ—Ç–µ —Å SQLAlchemy –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏¬†[—Ç—É—Ç](https://auth0.com/blog/sqlalchemy-orm-tutorial-for-python-developers/).
 

–ö–∞–∂–¥–∞—è —Ç–∞–±–ª–∏—Ü–∞ –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –∫–ª–∞—Å—Å–æ–º, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ª–∂–µ–Ω –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å—Å—è –æ—Ç –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞, —Å–æ–∑–¥–∞–≤–∞–µ–º–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–µ–π¬†`sqlalchemy.ext.declarative.declarative_base()`. –í —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º–æ–º –Ω–∞–º–∏ –ø—Ä–∏–º–µ—Ä–µ –±—É–¥–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∫–ª–∞—Å—Å¬†`News`¬†—Å —Å–ª–µ–¥—É—é—â–∏–º–∏ –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏: –∑–∞–≥–æ–ª–æ–≤–æ–∫, –∞–≤—Ç–æ—Ä, —Å—Å—ã–ª–∫–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏ —á–∏—Å–ª–æ –ª–∞–π–∫–æ–≤.

```python
from sqlalchemy.ext.declarative import declarative_base
from sqlalchemy import Column, String, Integer
from sqlalchemy import create_engine
from sqlalchemy.orm import sessionmaker

Base = declarative_base()
engine = create_engine("sqlite:///news.db")
session = sessionmaker(bind=engine)

class News(Base):
    __tablename__ = "news"
    id = Column(Integer, primary_key = True)
    title = Column(String)
    author = Column(String)
    url = Column(String)
    complexity = Column(String)
    habr_id = column(String)
    label = Column(String)

Base.metadata.create_all(bind=engine)
```


> üí° –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –ø–æ–ª–µ¬†`label`, –æ–Ω–æ –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –≤ —Ä–∞–∑–¥–µ–ª–µ ¬´–†–∞–∑–º–µ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö¬ª. –§—É–Ω–∫—Ü–∏—è¬†`sqlalchemy.create_engine()`¬†—Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞¬†`sqlalchemy.engine.Engine`, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.


–ß—Ç–æ –∫–∞—Å–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞–≤–∞–µ–º–æ–π —Å–µ—Å—Å–∏–∏, —Ç–æ –≤–æ—Ç –Ω–µ–±–æ–ª—å—à–∞—è –≤—ã–¥–µ—Ä–∂–∫–∞ –æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏ —Å–µ—Å—Å–∏–π –∏–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:

**Quote**

> In the most general sense, the Session establishes all conversations with the database and represents a ¬´holding zone¬ª for all the objects which you‚Äôve loaded or associated with it during its lifespan. It provides the entrypoint to acquire a Query object, which sends queries to the database using the Session object‚Äôs current database connection, populating result rows into objects that are then stored in the Session, inside a structure called the Identity Map - a data structure that maintains unique copies of each object, where ¬´unique¬ª means ¬´only one object with a particular primary key¬ª.
> 
> 
> The Session begins in an essentially stateless form. Once queries are issued or other objects are persisted with it, it requests a connection resource from an Engine that is associated either with the Session itself or with the mapped Table objects being operated upon. This connection represents an ongoing transaction, which remains in effect until the Session is instructed to commit or roll back its pending state.
> 
> All changes to objects maintained by a Session are tracked - before the database is queried again or before the current transaction is committed, it flushes all pending changes to the database. This is known as the Unit of Work pattern.
> 
> When using a Session, it‚Äôs important to note that the objects which are associated with it are proxy objects to the transaction being held by the Session - there are a variety of events that will cause objects to re-access the database in order to keep synchronized. It is possible to ¬´detach¬ª objects from a Session, and to continue using them, though this practice has its caveats. It‚Äôs intended that usually, you‚Äôd re-associate detached objects with another Session when you want to work with them again, so that they can resume their normal task of representing database state.
> 

–ë–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ –æ —Å–µ—Å—Å–∏—è—Ö –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å¬†[—Ç—É—Ç](http://docs.sqlalchemy.org/en/latest/orm/session_basics.html).

–î–∞–ª–µ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω –ø—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –µ–≥–æ –≤ –ë–î:

```python
>>> s = session()
>>> news = News(title='Lab 2', 
                author='anastasiiaCher',
                url='https://github.com/anastasiiaCher/cs102-spring-homework02',
                complexity="–°—Ä–µ–¥–Ω–∏–π")

>>> news.id, news.title
(None, Lab 2)
>>> s.add(news)
>>> s.commit()
>>> news.id, news.title
(1, Lab 2)
```

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ–±—ä–µ–∫—Ç–∞¬†`id`¬†—Å–æ–¥–µ—Ä–∂–∏—Ç –∑–Ω–∞—á–µ–Ω–∏–µ¬†`None`¬†–¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –º—ã –Ω–µ —Å–¥–µ–ª–∞–µ–º –∫–æ–º–º–∏—Ç —ç—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –≤ –ë–î —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞¬†`commit()`

–ù–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç –≤–∞—à–µ–π –∑–∞–¥–∞—á–µ–π —è–≤–ª—è–µ—Ç—Å—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ –º–µ–Ω–µ–µ 300 –∑–∞–ø–∏—Å–µ–π —Å –•–∞–±—Ä–∞ –≤ –ë–î (–Ω–∞ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–æ 20 –Ω–æ–≤–æ—Å—Ç–µ–π). –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞¬†`news.db`¬†–º–æ–∂–Ω–æ —Å –ø–æ–º–æ—â—å—é –ø—Ä–æ–≥—Ä–∞–º–º—ã¬†[DB Browser for SQLite](http://sqlitebrowser.org/). –í—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–±–ª–∏—Ü–∞ –≤ –ë–î –±—É–¥–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

<img width="760" alt="image" src="https://github.com/user-attachments/assets/cfcd2140-0fea-46f9-b1fd-eaada06cae02" />



## –†–∞–∑–º–µ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

–ö–∞–∫ —Ä–∞–∑–º–µ—Ç–∏—Ç—å –∏–º–µ—é—â–∏–µ—Å—è –¥–∞–Ω–Ω—ã–µ? –î–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ—Å—Ç—É—é HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—É, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π –±—É–¥–µ–º –≤—ã–≤–æ–¥–∏—Ç—å —Å–ø–∏—Å–æ–∫ –Ω–µ—Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π, –∞ —Ä—è–¥–æ–º —Å –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ—Å—Ç—å—é –±—É–¥–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–Ω–æ–ø–æ–∫ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –º–µ—Ç–∫–∞–º–∏:

- ¬´–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ¬ª - —ç—Ç–∞ –Ω–æ–≤–æ—Å—Ç—å –≤–∞–º –ø–æ–∫–∞–∑–∞–ª–∞—Å—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–π, –∏ –≤—ã –µ–µ –ø—Ä–æ—á–∏—Ç–∞–ª–∏;
- ¬´–ù–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ¬ª - —ç—Ç–∞ –Ω–æ–≤–æ—Å—Ç—å –≤–∞—Å –Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç;
- ¬´–í–æ–∑–º–æ–∂–Ω–æ, –ø—Ä–æ—á–∏—Ç–∞—é¬ª - –≤—ã —Å–æ–º–Ω–µ–≤–∞–µ—Ç–µ—Å—å - –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞ –≤–∞–º —ç—Ç–∞ –Ω–æ–≤–æ—Å—Ç—å –∏–ª–∏ –Ω–µ—Ç.

–ú–µ—Ç–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ. –ö—Ä–æ–º–µ —Ç–æ–≥–æ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á–∏—Å–ª–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –Ω–∞—à–µ–≥–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –∫ –Ω–æ–≤–æ—Å—Ç–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç 0 –¥–æ 5.

–ü–æ –Ω–∞–∂–∞—Ç–∏—é –Ω–∞ –∫–Ω–æ–ø–∫—É –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∫–∏ –≤ –ë–î –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –Ω–æ–≤–æ—Å—Ç–∏ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –∏–∑ —Å–ø–∏—Å–∫–∞ –Ω–µ—Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π, —Ç–∞–∫ –∫–∞–∫ –º—ã –µ–µ —É–∂–µ —Ä–∞–∑–º–µ—Ç–∏–ª–∏.

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–∫–æ–π –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è –ø—Ä–æ—Å—Ç—ã–º –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–º¬†[bottle](https://bottlepy.org/docs/dev/).

–î–∞–≤–∞–π—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∫ —ç—Ç–æ–º—É —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—É:

```python
from bottle import route, run, template

@route('/')
@route('/hello/<name>')
def index(name="Stranger"):
    return template('hello_template', name=name)

run(host='localhost', port=8080)
```

```python
<!-- hello_template.tpl -->
<b>Hello {{name}}</b>
```

–§—É–Ω–∫—Ü–∏—è¬†`run`¬†–∑–∞–ø—É—Å–∫–∞–µ—Ç –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –ø–æ –∞–¥—Ä–µ—Å—É¬†`localhost:8080`¬†(—Å–º. —Å–∫—Ä–∏–Ω—à–æ—Ç –Ω–∏–∂–µ), –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—â–∏–π –∑–∞–ø—Ä–æ—Å—ã –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –≤—ã –µ–≥–æ –Ω–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–µ–π¬†`Ctrl+–°`.

![image](https://github.com/user-attachments/assets/b6cb5980-be37-41e0-aee1-647ca9b38f38)


`route`¬†—ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è-–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é –∏ —Å–≤—è–∑—ã–≤–∞–µ—Ç –∞–¥—Ä–µ—Å —Ä–µ—Å—É—Ä—Å–∞ (–≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã) —Å —Ñ—É–Ω–∫—Ü–∏–µ–π, –∫–æ—Ç–æ—Ä–∞—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω–∞ –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ —ç—Ç–æ–º—É —Ä–µ—Å—É—Ä—Å—É. –í –Ω–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ —Ñ—É–Ω–∫—Ü–∏—è¬†`index`¬†–æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–∞:¬†`/`¬†–∏¬†`/hello/<name>`. –í—Ç–æ—Ä–æ–π –º–∞—Ä—à—Ä—É—Ç —è–≤–ª—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º, —Ç–∞–∫ –∫–∞–∫ –æ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –Ω–µ –æ–¥–Ω–æ–º—É —Ä–µ—Å—É—Ä—Å—É, –∞ —Ü–µ–ª–æ–º—É –º–Ω–æ–∂–µ—Å—Ç–≤—É —Ä–∞–∑–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤:¬†`/hello/anastasiiaCher`,¬†`/hello/alice`,¬†`/hello/bob`¬†–∏ —Ç.–¥. –®–∞–±–ª–æ–Ω (wildcard) –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —É–≥–ª–æ–≤—ã–µ —Å–∫–æ–±–∫–∏¬†`<`¬†–∏¬†`>`, –∞ –∏–º—è –∞—Ä–≥—É–º–µ–Ω—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ–ª–∂–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –∏–º–µ–Ω–µ–º, —É–∫–∞–∑–∞–Ω–Ω—ã–º –≤ —à–∞–±–ª–æ–Ω–µ (–≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —ç—Ç–æ¬†`name`).

–í¬†`bottle`¬†—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ö–∞–Ω–∏–∑–º —à–∞–±–ª–æ–Ω–æ–≤, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü. –î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã —Å —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä–æ–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π¬†`template`, –∫–æ—Ç–æ—Ä–∞—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–µ—Ä–≤–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏–º—è —Ñ–∞–π–ª–∞, —Å–æ–¥–µ—Ä–∂–∞—â–µ–≥–æ —Ç–µ–∫—Å—Ç —à–∞–±–ª–æ–Ω–∞ (–≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —ç—Ç–æ¬†`hello_template.tpl`). –ó–∞—Ç–µ–º —Å–ª–µ–¥—É–µ—Ç —Å–ø–∏—Å–æ–∫ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä—É (–≤ –Ω–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ —ç—Ç–æ¬†`name`).

–í–µ—Ä–Ω–µ–º—Å—è –∫ –Ω–∞—à–µ–º—É –ø—Ä–∏–º–µ—Ä—É. –ù–∞–ø–∏—à–µ–º —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –∑–∞ –º–∞—Ä—à—Ä—É—Ç¬†`news`¬†–∏ –≤—ã–≤–æ–¥–∏—Ç—å —Å–ø–∏—Å–æ–∫ –Ω–µ—Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π.

```python
@route('/news')
def news_list():
    s = session()
    rows = s.query(News).filter(News.label == None).all()
    return template('news_template', rows=rows)
```

```python
<!-- news_template.tpl -->
<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.12/semantic.min.css"></link>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.12/semantic.min.js"></script>
    </head>
    <body>
        <div class="ui container" style="padding-top: 10px;">
        <table class="ui celled table">
            <thead>
                <th>Title</th>
                <th>Author</th>
                <th>Complexity</th>
                <th colspan="3">Label</th>
            </thead>
            <tbody>
                %for row in rows:
                <tr>
                    <td><a href="{{ row.url }}">{{ row.title }}</a></td>
                    <td>{{ row.author }}</td>
                    <td>{{ row.complexity }}</td>
                    <td class="positive"><a href="/add_label/?label=good&id={{ row.id }}">–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ</a></td>
                    <td class="active"><a href="/add_label/?label=maybe&id={{ row.id }}">–í–æ–∑–º–æ–∂–Ω–æ</a></td>
                    <td class="negative"><a href="/add_label/?label=never&id={{ row.id }}">–ù–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ</a></td>
                </tr>
                %end
            </tbody>
            <tfoot class="full-width">
                <tr>
                    <th colspan="7">
                        <a href="/update_news" class="ui right floated small primary button">–ë–æ–ª—å—à–µ –Ω–æ–≤–æ—Å—Ç–µ–π!</a>
                    </th>
                </tr>
            </tfoot>
        </table>
        </div>
    </body>
</html>
```

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∑–∞–ø—Ä–æ—Å –∫ –ë–î:¬†`s.query(News).filter(News.label == None).all()`:

1. –ú—ã –æ–±—Ä–∞—â–∞–µ–º—Å—è –∫ —Ç–∞–±–ª–∏—Ü–µ¬†`News`¬†—Å –ø–æ–º–æ—â—å—é¬†`query(News)`
2. –§–∏–ª—å—Ç—Ä—É–µ–º –∑–∞–ø–∏—Å–∏. –ù–∞–º –Ω—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ —Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –∏–º–µ—é—Ç –º–µ—Ç–∫–∏:¬†`filter(News.label == None)`
3. –í—Å–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑¬†`all()`¬†–∑–∞–ø–∏—Å–∏ –ø–µ—Ä–µ–¥–∞–µ–º –≤ —à–∞–±–ª–æ–Ω


> ‚òù –û–±—Ä–∞—â–∞–π—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ `filter` –∏ `all` –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Ç–∞–±–ª–∏—Ü—É –Ω–æ–≤–æ—Å—Ç–µ–π, –∞ –Ω–µ –æ–¥–Ω—É –∑–∞–ø–∏—Å—å.

–í —à–∞–±–ª–æ–Ω–µ –º—ã —Ñ–æ—Ä–º–∏—Ä—É–µ–º —Ç–∞–±–ª–∏—Ü—É —Å–æ —Å–ø–∏—Å–∫–æ–º –Ω–µ—Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π. –í—ã –º–æ–∂–µ—Ç–µ –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ –≤ —à–∞–±–ª–æ–Ω–µ –¥–æ–ø—É—Å—Ç–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–ø—Ä–∞–≤–ª—è—é—â–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ —Ü–∏–∫–ª¬†`for`¬†(`end`¬†—É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç–µ–ª–∞ —Ü–∏–∫–ª–∞).

–ò –ø–æ—Å–ª–µ–¥–Ω–µ–µ –Ω–∞ —á—Ç–æ —Å—Ç–æ–∏—Ç –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ: —É –Ω–∞—Å –µ—Å—Ç—å —Ç—Ä–∏ —Å—Å—ã–ª–∫–∏ ¬´–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ¬ª, ¬´–ù–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ¬ª –∏ ¬´–í–æ–∑–º–æ–∂–Ω–æ¬ª. –ü–µ—Ä–µ—Ö–æ–¥ –ø–æ –∫–∞–∂–¥–æ–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π, —Å–≤—è–∑–∞–Ω–Ω–æ–π —Å –º–∞—Ä—à—Ä—É—Ç–æ–º¬†`add_label`. –¢–∞–∫–∂–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ–¥–∞—á–∞ –¥–≤—É—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤¬†`label`¬†(–Ω–∞—à–µ–π –º–µ—Ç–∫–∏, —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏¬†`good`,¬†`maybe`,¬†`never`) –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ –Ω–æ–≤–æ—Å—Ç–∏¬†`id`¬†(–≤—Å–ø–æ–º–Ω–∏–º, —á—Ç–æ –∫–∞–∂–¥–∞—è –Ω–æ–≤–æ—Å—Ç—å –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π —á–∏—Å–ª–æ–≤–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –æ–Ω–∞ –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤ –ë–î).

–í–∞—à–µ–π –∑–∞–¥–∞—á–µ–π —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –±—ã –¥–æ–±–∞–≤–ª—è–ª–∞ –º–µ—Ç–∫—É –∫ —É–∫–∞–∑–∞–Ω–Ω–æ–π –Ω–æ–≤–æ—Å—Ç–∏ –∏ –∑–∞—Ç–µ–º –≤–æ–∑–≤—Ä–∞—â–∞–ª–∞ –±—ã –Ω–∞—Å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É¬†`news`:

```python
from bottle import redirect

@route('/add_label')
def add_label():
    # 1. –ü–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ label –∏ id –∏–∑ GET-–∑–∞–ø—Ä–æ—Å–∞
    # 2. –ü–æ–ª—É—á–∏—Ç—å –∑–∞–ø–∏—Å—å –∏–∑ –ë–î —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º id (—Ç–∞–∫–∞—è –∑–∞–ø–∏—Å—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞!)
    # 3. –ò–∑–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –º–µ—Ç–∫–∏ –∑–∞–ø–∏—Å–∏ –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ label
    # 4. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –ë–î
    if __name__ == "__main__":
        redirect('/news')
```

–¢–∞–∫–∂–µ –Ω–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –±—ã –¥–æ–±–∞–≤–ª—è–ª–∞ —Å–≤–µ–∂–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –≤ –ë–î:

```python
@route('/update_news')
def update_news():
    # 1. –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å –Ω–æ–≤–æ—Å—Ç–Ω–æ–≥–æ —Å–∞–π—Ç–∞
    # 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫–∏—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –µ—â–µ –Ω–µ—Ç –≤ –ë–î. –ë—É–¥–µ–º —Å—á–∏—Ç–∞—Ç—å,
    #    —á—Ç–æ –∫–∞–∂–¥–∞—è –Ω–æ–≤–æ—Å—Ç—å –º–æ–∂–µ—Ç –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞
    #    –ø–æ —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏ –¥–≤—É—Ö –∑–Ω–∞—á–µ–Ω–∏–π: –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∏ –∞–≤—Ç–æ—Ä–∞
    # 3. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –ë–î —Ç–µ –Ω–æ–≤–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã—Ö —Ç–∞–º –Ω–µ—Ç
    if __name__ == "__main__":
        redirect('/news')
```


> ‚òù –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –±–ª–æ–∫ –∑–∞–ø—É—Å–∫–∞ (`if __name__ == "__main__"`) –≤ —ç—Ç–∏—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω **–≤–Ω—É—Ç—Ä–∏** —Ñ—É–Ω–∫—Ü–∏–π. –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ —ç—Ç–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π.

## –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –≤–∞—à–µ–π –∑–∞–¥–∞—á–µ–π —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –±—ã –≤—ã–≤–æ–¥–∏–ª –Ω–µ—Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏ –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ: —Å–Ω–∞—á–∞–ª–∞ –∏–¥—É—Ç –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –¥–ª—è –Ω–∞—Å –Ω–æ–≤–æ—Å—Ç–∏, –∑–∞—Ç–µ–º —Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –±—ã –≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞–ª–∏, –∏ –≤ –∫–æ–Ω—Ü–µ - –Ω–µ–∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏.

–ò—Ç–∞–∫, —É –Ω–∞—Å –µ—Å—Ç—å –∫–æ—Ä–ø—É—Å, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö –∏ –Ω–µ—Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–Ω–æ–≤–æ—Å—Ç–µ–π). –í–æ–∑–Ω–∏–∫–∞–µ—Ç –¥–≤–∞ –≤–æ–ø—Ä–æ—Å–∞: ¬´–ö–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –∫–∞–∂–¥–æ–π —Å–≤–µ–∂–µ–π –Ω–æ–≤–æ—Å—Ç–∏ –ø—Ä–∏—Å–≤–æ–∏—Ç—å –æ–¥–Ω—É –∏–∑ –º–µ—Ç–æ–∫ (–∫–ª–∞—Å—Å–æ–≤)?¬ª –∏ ¬´–ö–∞–∫ –æ—Ü–µ–Ω–∏—Ç—å –Ω–∞—à—É –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—é?¬ª.

–î–ª—è –±–æ–ª–µ–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å¬†**–Ω–∞–∏–≤–Ω—ã–π –±–∞–π–µ—Å–æ–≤—Å–∫–∏–π –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä**. –ï—Å–ª–∏ –≤—ã –Ω–µ –∑–Ω–∞–∫–æ–º—ã —Å —Ç–µ–æ—Ä–µ–º–æ–π –ë–∞–π–µ—Å–∞, —Ç–æ –º–æ–∂–µ—Ç–µ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∏—Å—á–µ—Ä–ø—ã–≤–∞—é—â–µ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –æ—Ç¬†[–Æ–¥–∫–æ–≤—Å–∫–∏](http://yudkowsky.net/rational/bayes)¬†(–µ—Å—Ç—å –ø–µ—Ä–µ–≤–æ–¥ –∏ –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫). –¢–∞–∫–∂–µ, –¥–ª—è –ø–æ—è—Å–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –Ω–∞–∏–≤–Ω–æ–≥–æ –±–∞–π–µ—Å–æ–≤—Å–∫–æ–≥–æ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ —è –±—É–¥—É —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ —Å—Ç–∞—Ç—å—é –≤¬†[–í–∏–∫–∏–ø–µ–¥–∏–∏](https://en.wikipedia.org/wiki/Naive_Bayes_classifier).

–ò—Ç–∞–∫, –≤–æ–ø—Ä–æ—Å –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –º—ã –æ—Ç–≤–µ—á–∞–µ–º: ¬´–ö–∞–∫–æ–≤–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å, —á—Ç–æ –¥–æ–∫—É–º–µ–Ω—Ç¬†D¬†–ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∫–ª–∞—Å—Å—É¬†C?¬ª –∏–ª–∏ –≤ –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–æ–π –∑–∞–ø–∏—Å–∏: —á–µ–º—É —Ä–∞–≤–Ω–æ¬†P(D \mid C)? –î–æ–∫—É–º–µ–Ω—Ç–æ–º¬†D¬†—É –Ω–∞—Å —è–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤–æ—Å—Ç—å, –∞ –∫–ª–∞—Å—Å–æ–º¬†C¬†- –æ–¥–Ω–∞ –∏–∑ —Ç—Ä–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –º–µ—Ç–æ–∫: ¬´–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ¬ª, ¬´–ù–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ¬ª, ¬´–í–æ–∑–º–æ–∂–Ω–æ¬ª.

–î–æ–∫—É–º–µ–Ω—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö —Å–ª–æ–≤ (—ç—Ç–æ –ª–∏—à—å –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–≥–æ –º—ã –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–µ–º—Å—è. –í –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–ª–æ–≤–∞ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ª–æ–≤–æ ¬´–ü–µ—Ç–µ—Ä–±—É—Ä–≥¬ª –∏–º–µ–µ—Ç –±–æ–ª–µ–µ –≤—ã—Å–æ–∫—É—é –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –∏–¥—Ç–∏ –≤ –ø–∞—Ä–µ —Å–æ —Å–ª–æ–≤–æ–º ¬´–°–∞–Ω–∫—Ç¬ª), –≥–¥–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —Ç–æ–≥–æ, —á—Ç–æ¬†i-–æ–µ —Å–ª–æ–≤–æ –¥–∞–Ω–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –∫–ª–∞—Å—Å—É¬†C¬†—Ä–∞–≤–Ω–∞¬†P(w_i \mid C). –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∏ –∫–ª–∞—Å—Å–∞¬†C¬†—Ä–∞–≤–Ω–∞:

$$
P(D|C) = \prod_{i} P(w_i|C)
$$

–ü–æ —Ç–µ–æ—Ä–µ–º–µ –ë–∞–π–µ—Å–∞ –ø–æ–ª—É—á–∏–º:

$$
P(C|D) = \frac{P(C)P(D|C)}{P(D)}
$$

–ú–æ–∂–Ω–æ –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ –∑–Ω–∞–º–µ–Ω–∞—Ç–µ–ª—å –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç¬†C, –ø–æ—ç—Ç–æ–º—É –ø–æ–ª—É—á–∏–º:

$$
P(C|D) \propto P(C)P(D|C) = P(C)\prod_{i}P(w_i|C)
$$

–•–æ—Ç—è —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è —Ç–µ–æ—Ä–∏–∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π —ç—Ç–∞ —Ñ–æ—Ä–º—É–ª–∞ –Ω–µ–≤–µ—Ä–Ω–∞—è, —Ç–∞–∫ –∫–∞–∫ —Å—É–º–º–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π –Ω–µ –±—É–¥–µ—Ç —Ä–∞–≤–Ω–∞ 1, –Ω–æ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ –æ–Ω–∞ –Ω–∞—Å –ø–æ–ª–Ω–æ—Å—Ç—å—é —É—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç.

–í—ã –º–æ–∂–µ—Ç–µ –¥–æ–≥–∞–¥–∞—Ç—å—Å—è, —á—Ç–æ –µ—Å–ª–∏ –ø–æ—è–≤–∏—Ç—Å—è —Å–ª–æ–≤–æ, –∫–æ—Ç–æ—Ä–æ–≥–æ –º—ã —Ä–∞–Ω—å—à–µ –Ω–µ –≤—Å—Ç—Ä–µ—á–∞–ª–∏, —Ç–æ¬†

$$
\prod_{i}P(w_i \mid C) = 0, 
$$

–∞ —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –∏¬†

$$
P(C \mid D) = 0.
$$

–û–¥–Ω–∏–º –∏–∑ —Ç–∏–ø–∏—á–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π —è–≤–ª—è–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Lidstone smoothing (a < 1) –∏–ª–∏ Laplacian smoothing (a = 1):

$$
P(w_i \mid C = c) = \frac{n_{i,c} + \alpha}{n_c + \alpha d}
$$

–≥–¥–µ:

- $n_{i,c}$¬†- —á–∏—Å–ª–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π –ø—Ä–∏–∑–Ω–∞–∫–∞¬†$w_i$¬†–¥–ª—è –∫–ª–∞—Å—Å–∞¬†c;
- $n_c$¬†- —á–∏—Å–ª–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π –ø—Ä–∏–∑–Ω–∞–∫–∞¬†$w_i$¬†—Å—Ä–µ–¥–∏ –≤—Å–µ—Ö –∫–ª–∞—Å—Å–æ–≤;
- $\alpha$¬†- –ø–∞—Ä–∞–º–µ—Ç—Ä —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è;
- d¬†- —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –≤–µ–∫—Ç–æ—Ä–∞ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤¬†$W = \left \langle w_1,...,w_d \right \rangle$.

–ï—â–µ –æ–¥–Ω–∏–º ¬´—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º¬ª —Ç—Ä—é–∫–æ–º —è–≤–ª—è–µ—Ç—Å—è –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—Ä–æ–≤–∞–Ω–∏–µ, —á—Ç–æ–±—ã –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –º–∞–ª–µ–Ω—å–∫–∏—Ö –≤–µ–ª–∏—á–∏–Ω –Ω–µ –ø—Ä–∏–≤–µ–ª–æ –∫ –æ–±—Ä–∞—â–µ–Ω–∏—é –≤—Å–µ–≥–æ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –≤ –Ω–æ–ª—å:

$$
\ln P(C|D) \propto \ln P(C) + \sum_i \ln P(w_i|C)
$$

–ò—Ç–∞–∫, –Ω–∞—à–∞ –∏—Ç–æ–≥–æ–≤–∞—è –º–æ–¥–µ–ª—å –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

$$
\hat{y} = argmax_c\Big(\ln P(C=c) + \sum_i \ln P(w_i|C = c) \Big)
$$

### –ü—Ä–∏–º–µ—Ä

–î–∞–≤–∞–π—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π —Å –¥–≤—É–º—è –∫–ª–∞—Å—Å–∞–º–∏ ¬´Positive¬ª –∏ ¬´Negative¬ª. –ü—É—Å—Ç—å —É –Ω–∞—Å –∏–º–µ–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∞—è –æ–±—É—á–∞—é—â–∞—è –≤—ã–±–æ—Ä–∫–∞:

| –°–æ–æ–±—â–µ–Ω–∏–µ | –ú–µ—Ç–∫–∞ –∫–ª–∞—Å—Å–∞ |
| --- | --- |
| I love this sandwich | Positive |
| This is an amazing place | Positive |
| I feel very good about these beers | Positive |
| This is my best work | Positive |
| What an awesome view | Positive |
| I do not like this restaurant | Negative |
| I am tired of this stuff | Negative |
| I can't deal with this | Negative |
| He is my sworn enemy | Negative |
| My boss is horrible | Negative |

**Note**

–î–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏¬†[—Ç—É—Ç](https://stevenloria.com/simple-text-classification/).

–î–ª—è –Ω–∞—á–∞–ª–∞ –Ω–∞–π–¥–µ–º –∞–ø—Ä–∏–æ—Ä–Ω—ã–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –∫–ª–∞—Å—Å–æ–≤:¬†

$$
P(C=pos) = 5/10 = 0.5¬†–∏¬†P(C=neg) = 5/10 = 0.5.
$$

–¢–µ–ø–µ—Ä—å —Å–æ—Å—Ç–∞–≤–∏–º —Ç–∞–±–ª–∏—Ü—É, –≤ –∫–æ—Ç–æ—Ä–æ–π –±—É–¥—É—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–ª–æ–Ω–∫–∏ (–æ –¥–≤—É—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–ª–æ–Ω–∫–∞—Ö —Å–º. –Ω–∏–∂–µ):

- —Å–ª–æ–≤–∞ –∏–∑ –æ–±—É—á–∞—é—â–µ–π –≤—ã–±–æ—Ä–∫–∏;
- —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ —Å–ª–æ–≤–æ –≤—Å—Ç—Ä–µ—Ç–∏–ª–æ—Å—å –≤ –∫–ª–∞—Å—Å–µ ¬´Positive¬ª;
- —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ —Å–ª–æ–≤–æ –≤—Å—Ç—Ä–µ—Ç–∏–ª–æ—Å—å –≤ –∫–ª–∞—Å—Å–µ ¬´Negative¬ª.

| –°–ª–æ–≤–æ | ¬´+¬ª | ¬´-¬ª | $P(w_i \mid pos)$ | $P(w_i \mid neg)$ |
| --- | --- | --- | --- | --- |
| about | 1 | 0 | 0.032 | 0.016 |
| am | 0 | 1 | 0.016 | 0.032 |
| amazing | 1 | 0 | 0.032 | 0.016 |
| an | 2 | 0 | 0.049 | 0.016 |
| awesome | 1 | 0 | 0.032 | 0.016 |
| beers | 1 | 0 | 0.032 | 0.016 |
| best | 1 | 0 | 0.032 | 0.016 |
| boss | 0 | 1 | 0.016 | 0.032 |
| cant | 0 | 1 | 0.016 | 0.032 |
| deal | 0 | 1 | 0.016 | 0.032 |
| do | 0 | 1 | 0.016 | 0.032 |
| enemy | 0 | 1 | 0.016 | 0.032 |
| feel | 1 | 0 | 0.032 | 0.016 |
| good | 1 | 0 | 0.032 | 0.016 |
| he | 0 | 1 | 0.016 | 0.032 |
| horrible | 0 | 1 | 0.016 | 0.032 |
| i | 2 | 3 | 0.049 | 0.064 |
| is | 2 | 2 | 0.049 | 0.048 |
| like | 0 | 1 | 0.016 | 0.032 |
| love | 1 | 0 | 0.032 | 0.016 |
| my | 1 | 2 | 0.032 | 0.048 |
| not | 0 | 1 | 0.016 | 0.032 |
| of | 0 | 1 | 0.016 | 0.032 |
| place | 1 | 0 | 0.032 | 0.016 |
| restaurant | 0 | 1 | 0.016 | 0.032 |
| sandwich | 1 | 0 | 0.032 | 0.016 |
| stuff | 0 | 1 | 0.016 | 0.032 |
| sworn | 0 | 1 | 0.016 | 0.032 |
| these | 1 | 0 | 0.032 | 0.016 |
| this | 3 | 3 | 0.065 | 0.064 |
| tired | 0 | 1 | 0.016 | 0.032 |
| very | 1 | 0 | 0.032 | 0.016 |
| view | 1 | 0 | 0.032 | 0.016 |
| what | 1 | 0 | 0.032 | 0.016 |
| with | 0 | 1 | 0.016 | 0.032 |
| work | 1 | 0 | 0.032 | 0.016 |

–ò—Ç–∞–∫, —Ä–∞–∑–º–µ—Ä –≤–µ–∫—Ç–æ—Ä–∞ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ —Ä–∞–≤–µ–Ω¬†d=36¬†(—á–∏—Å–ª–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å–ª–æ–≤ –≤–æ –≤—Å–µ–π –≤—ã–±–æ—Ä–∫–µ). –¢–∞–∫–∂–µ –Ω–∞–π–¥–µ–º —á–∏—Å–ª–æ —Å–ª–æ–≤ –æ—Ç–Ω–æ—Å—è—â–∏—Ö—Å—è –∫ –∫–ª–∞—Å—Å—É ¬´Positive¬ª –∏ –∫ –∫–ª–∞—Å—Å—É ¬´Negative¬ª:¬†$n_{pos} = 25$¬†–∏¬†$n_{neg} = 26$¬†(—Å—É–º–º—ã –ø–æ –≤—Ç–æ—Ä–æ–º—É –∏ —Ç—Ä–µ—Ç—å–µ–º—É —Å—Ç–æ–ª–±—Ü—É). –¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –ø–æ—Å—á–∏—Ç–∞—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å —Å–ª–æ–≤–æ –≤ –∫–∞–∂–¥–æ–º –∏–∑ –∫–ª–∞—Å—Å–æ–≤¬†$P(w_i \mid C = c)$¬†(4 –∏ 5 —Å—Ç–æ–ª–±—Ü—ã).

–ù–∞–º —ç—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è. –ü—É—Å—Ç—å –∏–º–µ–µ—Ç—Å—è —Ç–∞–∫–æ–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö:

| –°–æ–æ–±—â–µ–Ω–∏–µ | –ú–µ—Ç–∫–∞ –∫–ª–∞—Å—Å–∞ |
| --- | --- |
| The beer was good | Positive |
| I do not enjoy my job | Negative |
| I ain't feeling dandy today | Negative |
| I feel amazing | Positive |
| Gary is a friend of mine | Positive |
| I can't believe I'm doing this | Negative |

–í –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–º–µ—Ä–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–µ—Ä–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è.

–ï—Å–ª–∏ —Å–ª–æ–≤–∞ –Ω–µ—Ç –≤ —Å–ª–æ–≤–∞—Ä–µ, —Ç–æ –µ—Å—Ç—å, —Å—Ä–µ–¥–∏ –≤—Å–µ—Ö —Å–ª–æ–≤ –∏–∑ –æ–±—É—á–∞—é—â–µ–π –≤—ã–±–æ—Ä–∫–∏, —Ç–æ –æ–Ω–æ –Ω–∏–∫–∞–∫ –Ω–µ –ø–æ–≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –±—É–¥–µ–º —Å—á–∏—Ç–∞—Ç—å –µ–≥–æ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –¥–ª—è –æ–±–æ–∏—Ö –∫–ª–∞—Å—Å–æ–≤ —Ä–∞–≤–Ω–æ–π –Ω—É–ª—é.

$$
\begin{aligned} \ln P(pos|D) &= \ln P(pos) + \ln P(the|pos) + \ln P(beer|pos) + \ln P(was|pos) + \ln P(good|pos) \\ &= -0.693 + 0 + 0 + 0 - 3.417 = -4.110 \\ \ln P(neg|D) &= \ln P(neg) + \ln P(the|neg) + \ln P(beer|neg) + \ln P(was|neg) + \ln P(good|neg) \\ &= -0.693 - 0 + 0 + 0 - 4.127 = -4.820 \\ \hat{y} &= argmax_c\Big(\ln P(pos|D), \ln P(neg|D)\Big) = \ln P(pos|D) \Rightarrow pos \end{aligned}
$$

–ï—Å–ª–∏ –º—ã –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, —Ç–æ –ø–æ–ª—É—á–∏–º, —á—Ç–æ –º—ã –≤–µ—Ä–Ω–æ –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–ª–∏ 5 –∏–∑ 6 —Å–æ–æ–±—â–µ–Ω–∏–π. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —Ç–æ—á–Ω–æ—Å—Ç—å –Ω–∞—à–µ–≥–æ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ —Å–æ—Å—Ç–∞–≤–∏–ª–∞ 83% –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –≤—ã–±–æ—Ä–∫–µ.

### –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞

–í–∞—à–µ–π –∑–∞–¥–∞—á–µ–π —è–≤–ª—è–µ—Ç—Å—è –Ω–∞–ø–∏—Å–∞—Ç—å –Ω–∞–∏–≤–Ω—ã–π –±–∞–π–µ—Å–æ–≤—Å–∫–∏–π –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä:

```python
class NaiveBayesClassifier:

    def __init__(self, alpha):
        pass

    def fit(self, X, y):
        """ Fit Naive Bayes classifier according to X, y. """
        pass

    def predict(self, X):
        """ Perform classification on an array of test vectors X. """
        pass

    def score(self, X_test, y_test):
        """ Returns the mean accuracy on the given test data and labels. """
        pass
```

> –í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å¬†`Counter`¬†–∏¬†`defaultdict`¬†–∏–∑ –º–æ–¥—É–ª—è¬†`collections`, —á—Ç–æ–±—ã —Ö—Ä–∞–Ω–∏—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –∫–ª–∞—Å—Å–æ–≤ –∏ —Å–ª–æ–≤, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.
> 

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è –¥–∞—Ç–∞—Å–µ—Ç–æ–º —Å–æ–¥–µ—Ä–∂–∞—â–∏–º —Å–º—Å —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç–Ω–æ—Å—è—â–∏–µ—Å—è –∫ –æ–¥–Ω–æ–º—É –∏–∑ –¥–≤—É—Ö –∫–ª–∞—Å—Å–æ–≤: —Å–ø–∞–º (spam) –∏ –Ω–µ —Å–ø–∞–º (ham). –û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏¬†[—Ç—É—Ç](https://archive.ics.uci.edu/ml/datasets/sms+spam+collection), –∞ —Å–∞–º –¥–∞—Ç–∞—Å–µ—Ç –µ—Å—Ç—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

–î–ª—è –Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∑–∏–º –¥–∞–Ω–Ω—ã–µ —Å –ø–æ–º–æ—â—å—é –º–æ–¥—É–ª—è¬†`csv`¬†–∏ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –ø–µ—Ä–≤—ã–µ —Ç—Ä–∏ –∑–∞–ø–∏—Å–∏:

```python
>>> import csv
>>> with open("SMSSpamCollection") as f:
        data = list(csv.reader(f, delimiter="\t"))
>>> len(data)
5572
>>> data[:3]
[['ham',
  'Go until jurong point, crazy.. Available only in bugis n great world la e '
  'buffet... Cine there got amore wat...'],
 ['ham', 'Ok lar... Joking wif u oni...'],
 ['spam',
  'Free entry in 2 a wkly comp to win FA Cup final tkts 21st May 2005. Text FA '
  "to 87121 to receive entry question(std txt rate)T&C's apply "
  "08452810075over18's"]]
```

–ü—Ä–∏–≤–µ–¥–µ–º –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∫ –Ω–∏–∂–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É –∏ –∏–∑–±–∞–≤–∏–º—Å—è –æ—Ç —Å–∏–º–≤–æ–ª–æ–≤ –ø—É–Ω–∫—Ç—É–∞—Ü–∏–∏:

```python
>>> import string
>>> def clean(s):
        translator = str.maketrans("", "", string.punctuation)
        return s.translate(translator)
>>> X, y = [], []
>>> for target, msg in data:
        X.append(msg)
        y.append(target)
>>> X = [clean(x).lower() for x in X]
>>> X[:3]
['go until jurong point crazy available only in bugis n great world la e buffet cine there got amore wat', 'ok lar joking wif u oni', 'free entry in 2 a wkly comp to win fa cup final tkts 21st may 2005 text fa to 87121 to receive entry questionstd txt ratetcs apply 08452810075over18s']
```

–†–∞–∑–æ–±—å–µ–º –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –æ–±—É—á–∞—é—â—É—é –∏ —Ç–µ—Å—Ç–æ–≤—É—é –≤—ã–±–æ—Ä–∫–∏ –≤ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–∏ 70%/30%. –û–±—É—á–∞—é—â–∞—è –≤—ã–±–æ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ (–æ–±—É—á–µ–Ω–∏—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞), –∞ —Ç–µ—Å—Ç–æ–≤–∞—è –≤—ã–±–æ—Ä–∫–∞ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Ä–∞–±–æ—Ç—ã –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ –Ω–∞ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–ø—Ä–∏—Ç–≤–æ—Ä–∏–º—Å—è, —á—Ç–æ 30% –¥–∞–Ω–Ω—ã—Ö –º—ã —Ä–∞–Ω—å—à–µ –Ω–µ –≤–∏–¥–µ–ª–∏):

```python
>>> X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.33, random_state=42)
```

–¢–µ–ø–µ—Ä—å –ø–æ—Å—Ç—Ä–æ–∏–º –º–æ–¥–µ–ª—å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ –∏ –æ—Ü–µ–Ω–∏–º –µ–µ —Ä–∞–±–æ—Ç—É:

```python
model = NaiveBayesClassifier()
model.fit(X_train, y_train)
print(model.score(X_test, y_test))
# 0.9820574162679426
```

–°—Ä–∞–≤–Ω–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º¬†[MultinomialNB](http://scikit-learn.org/stable/modules/generated/sklearn.naive_bayes.MultinomialNB.html#sklearn.naive_bayes.MultinomialNB)¬†–∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏¬†`sklearn`:

```python
from sklearn.naive_bayes import MultinomialNB
from sklearn.pipeline import Pipeline
from sklearn.feature_extraction.text import TfidfVectorizer

model = Pipeline([
    ('vectorizer', TfidfVectorizer()),
    ('classifier', MultinomialNB(alpha=0.05)),
])

model.fit(X_train, y_train)
print(model.score(X_test, y_test))
# 0.982057416268
```

> üí° –î–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Ö–æ—Ä–æ—à–µ–π –º–æ–¥–µ–ª–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —É–¥–∞–ª–∏—Ç—å —Å–∏–º–≤–æ–ª—ã –ø—É–Ω–∫—Ç—É–∞—Ü–∏–∏ –∏ –ø—Ä–∏–≤–µ—Å—Ç–∏ –≤–µ—Å—å —Ç–µ–∫—Å—Ç –∫ –Ω–∏–∂–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–æ–≤–µ—Å—Ç–∏ –ª–µ–º–∞—Ç–∏–∑–∞—Ü–∏—é –∏–ª–∏ —Å—Ç–µ–º–º–∏–Ω–≥, –∏—Å–æ–ø–ª—å–∑–æ–≤–∞—Ç—å n-–≥—Ä–∞–º–º—ã, —É—á–∏—Ç—ã–≤–∞—Ç—å –¥–æ–º–µ–Ω –∏ –∞–≤—Ç–æ—Ä–∞ —Å—Ç–∞—Ç—å–∏. –í–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –ª–µ–∫—Ü–∏–π, —á—Ç–æ–±—ã –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–µ–µ –ø—Ä–æ–≤–µ—Å—Ç–∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—é.

–ú—ã –ø–æ–ª—É—á–∏–ª–∏ –≤ —Ç–æ—á–Ω–æ—Å—Ç–∏ —Ç–æ –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —á—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç –Ω–∞–º –æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã –Ω–∞—à–µ–≥–æ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞. –í–∞—à–∞ –∑–∞–¥–∞—á–∞ —Ç–µ–ø–µ—Ä—å –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –∏ –æ—Ü–µ–Ω–∏—Ç—å –º–æ–¥–µ–ª—å –Ω–∞ —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –∏ —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö —Ä–∞–Ω–µ–µ –¥–∞–Ω–Ω—ã—Ö —Å –•–∞–±—Ä–∞.

### –í—ã–≤–æ–¥ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π

–î–æ–±–∞–≤—å—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã –Ω–æ–≤–æ—Å—Ç–µ–π:

```python
@route('/recommendations')
def recommendations():
    # 1. –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –Ω–µ—Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –∏–∑ –ë–î
    # 2. –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–≥–Ω–æ–∑—ã –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ—Å—Ç–∏
    # 3. –í—ã–≤–µ—Å—Ç–∏ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Ç–∞–±–ª–∏—Ü—É —Å –Ω–æ–≤–æ—Å—Ç—è–º–∏
    return template('news_recommendations', rows=classified_news)
```

### –ß—Ç–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∫ –∑–∞—â–∏—Ç–µ

–ù–∞ –∑–∞—â–∏—Ç–µ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã, –ø–æ–º–∏–º–æ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É –≤–∞—à–µ–≥–æ –º–∏–∫—Ä–æ-—Å–µ—Ä–≤–∏—Å–∞:

1. –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ä—Ç–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É.
2. –ü–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ –Ω–æ–≤–æ—Å—Ç–∏ –º–æ–∂–Ω–æ —Ä–∞–∑–º–µ—á–∞—Ç—å.
3. –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏.

–¢–∞–∫–∂–µ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å –º–æ–¥–µ–ª—å, –æ–±—É—á–µ–Ω–Ω—É—é –Ω–∞ —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö –≤–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö, –∏ –ø—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–µ –∫–∞—á–µ—Å—Ç–≤–æ. –ß–µ–º –∞–∫–∫—É—Ä–∞—Ç–Ω–µ–µ –≤—ã —Ä–∞–∑–º–µ—Ç–∏—Ç–µ —Å–æ–±—Ä–∞–Ω–Ω—ã–µ 300 –Ω–æ–≤–æ—Å—Ç–µ–π, —Ç–µ–º —Ç–æ—á–Ω–µ–µ –±—É–¥–µ—Ç –≤–∞—à–∞ –º–æ–¥–µ–ª—å –∏ —Ç–µ–º –ø—Ä–æ—â–µ –≤–∞–º –±—É–¥–µ—Ç –ø–æ–Ω—è—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–∞—à–µ–π —Ä–∞–±–æ—Ç—ã. –ü–æ—ç—Ç–æ–º—É –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤ –∫–æ–Ω—Ü–µ —Ä–∞–±–æ—Ç—ã –Ω–∞–¥ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π –ø–æ—Ç—Ä–∞—Ç—å—Ç–µ –≤—Ä–µ–º—è –Ω–∞ —Ä–∞–∑–º–µ—Ç–∫—É.
